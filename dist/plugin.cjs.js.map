{"version":3,"file":"plugin.cjs.js","sources":["../../src/definitions.ts","../../src/index.ts","../../src/web.ts"],"sourcesContent":["export interface BackgroundLocationPermissionPlugin {\n  checkAndRequestPermission(): Promise<LocationPermissionStatus>;\n}\n\nexport interface LocationPermissionStatus {\n  hasAlwaysPermission: boolean;\n  authorizationStatus: 'always' | 'whenInUse' | 'denied' | 'notDetermined' | 'restricted';\n  hasBackgroundLocation?: boolean; // Android-specific\n  hasForegroundLocation?: boolean; // Android-specific\n}\n\nexport enum BackgroundLocationPermissionErrorCode {\n  PERMISSION_DENIED = 'PERMISSION_DENIED',\n  PERMISSION_TIMEOUT = 'PERMISSION_TIMEOUT',\n  REQUEST_IN_PROGRESS = 'REQUEST_IN_PROGRESS',\n  PLATFORM_UNSUPPORTED = 'PLATFORM_UNSUPPORTED',\n  LOCATION_MANAGER_INIT_FAILED = 'LOCATION_MANAGER_INIT_FAILED',\n  APP_BACKGROUNDED = 'APP_BACKGROUNDED',\n  PERMANENTLY_DENIED = 'PERMANENTLY_DENIED',\n  SDK_VERSION_UNSUPPORTED = 'SDK_VERSION_UNSUPPORTED',\n  ACTIVITY_DESTROYED = 'ACTIVITY_DESTROYED'\n}\n\nexport interface BackgroundLocationPermissionError {\n  code: BackgroundLocationPermissionErrorCode;\n  message: string;\n  details?: string;\n}\n\n","import { registerPlugin } from '@capacitor/core';\n\nimport type { BackgroundLocationPermissionPlugin } from './definitions';\n\n/**\n * Check and request background location permissions\n * \n * iOS: Automatically upgrades from WhenInUse to Always if possible\n * Android: Requests FINE_LOCATION then BACKGROUND_LOCATION sequentially\n * \n * @returns Promise<LocationPermissionStatus>\n * \n * @example\n * const status = await BackgroundLocationPermission.checkAndRequestPermission();\n * if (status.hasAlwaysPermission) {\n *   // Start geofencing\n * } else {\n *   // Show UI explaining why background location is needed\n * }\n */\nconst BackgroundLocationPermission = registerPlugin<BackgroundLocationPermissionPlugin>(\n  'BackgroundLocationPermission',\n  {\n    web: () => import('./web').then(m => new m.BackgroundLocationPermissionWeb()),\n  }\n);\n\nexport * from './definitions';\nexport { BackgroundLocationPermission };\n\n","import { WebPlugin } from '@capacitor/core';\n\nimport type { BackgroundLocationPermissionPlugin, LocationPermissionStatus } from './definitions';\n\nexport class BackgroundLocationPermissionWeb\n  extends WebPlugin\n  implements BackgroundLocationPermissionPlugin\n{\n  async checkAndRequestPermission(): Promise<LocationPermissionStatus> {\n    const errorMessage = 'PLATFORM_UNSUPPORTED: Web platform is not supported | Details: Background location permissions are not available on web platforms. This feature requires native iOS or Android capabilities.';\n    throw new Error(errorMessage);\n  }\n}\n\n"],"names":["BackgroundLocationPermissionErrorCode","registerPlugin","WebPlugin"],"mappings":";;;;AAWYA;AAAZ,CAAA,UAAY,qCAAqC,EAAA;AAC/C,IAAA,qCAAA,CAAA,mBAAA,CAAA,GAAA,mBAAuC;AACvC,IAAA,qCAAA,CAAA,oBAAA,CAAA,GAAA,oBAAyC;AACzC,IAAA,qCAAA,CAAA,qBAAA,CAAA,GAAA,qBAA2C;AAC3C,IAAA,qCAAA,CAAA,sBAAA,CAAA,GAAA,sBAA6C;AAC7C,IAAA,qCAAA,CAAA,8BAAA,CAAA,GAAA,8BAA6D;AAC7D,IAAA,qCAAA,CAAA,kBAAA,CAAA,GAAA,kBAAqC;AACrC,IAAA,qCAAA,CAAA,oBAAA,CAAA,GAAA,oBAAyC;AACzC,IAAA,qCAAA,CAAA,yBAAA,CAAA,GAAA,yBAAmD;AACnD,IAAA,qCAAA,CAAA,oBAAA,CAAA,GAAA,oBAAyC;AAC3C,CAAC,EAVWA,6CAAqC,KAArCA,6CAAqC,GAAA,EAAA,CAAA,CAAA;;ACPjD;;;;;;;;;;;;;;;AAeG;AACH,MAAM,4BAA4B,GAAGC,mBAAc,CACjD,8BAA8B,EAC9B;IACE,GAAG,EAAE,MAAM,mDAAe,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,+BAA+B,EAAE,CAAC;AAC9E,CAAA;;ACpBG,MAAO,+BACX,SAAQC,cAAS,CAAA;AAGjB,IAAA,MAAM,yBAAyB,GAAA;QAC7B,MAAM,YAAY,GAAG,8LAA8L;AACnN,QAAA,MAAM,IAAI,KAAK,CAAC,YAAY,CAAC;IAC/B;AACD;;;;;;;;;"}